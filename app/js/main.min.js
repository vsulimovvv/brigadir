window.addEventListener("DOMContentLoaded",()=>{$('input[type="tel"]').mask("+7 (999) 999-99-99"),$("select").niceSelect(),e=document.querySelectorAll(".slider-thumbs__img"),991<window.innerWidth&&e.forEach(e=>{const r=e.querySelector("img");e&&(e.addEventListener("mousemove",e=>{var t=e.clientX-e.target.offsetLeft,e=e.clientY-e.target.offsetTop;r.style.transformOrigin=t+`px ${e}px`,r.style.transform="scale(1.8)"}),e.addEventListener("mouseleave",()=>{r.style.transformOrigin="center",r.style.transform="scale(1)"}))}),(e=document.querySelector(".reviews__content"))&&e.addEventListener("click",e=>{var t=e.target;t.className.includes("reviews-card__more")&&((e=e.target.parentNode.querySelector(".read-more-text")).classList.toggle("show"),e.classList.contains("show")?(t.textContent="Скрыть",document.querySelector("i").style.display="none"):(t.textContent="Читать далее",document.querySelector("i").style.display="inline"))}),document.querySelectorAll(".order-box__item").forEach(t=>{t&&(document.querySelectorAll(".row-pickup").forEach(e=>{e.style.display="none"}),t.addEventListener("click",e=>{"Самовывоз"===t.querySelector(".pickup").textContent?document.querySelectorAll(".row-pickup").forEach(e=>{e.style.display="none"}):document.querySelectorAll(".row-pickup").forEach(e=>{e.style.display="flex"})}))}),e=document.querySelector(".advantages__slider"),new Swiper(e,{slidesPerView:5,spaceBetween:40,pagination:{el:document.querySelector(".advantages__content .swiper-pagination"),type:"progressbar"},breakpoints:{320:{spaceBetween:30,slidesPerView:"auto"},991:{spaceBetween:20,slidesPerView:5},1100:{spaceBetween:40,slidesPerView:5}}}),e=document.querySelector(".news__slider"),new Swiper(e,{pagination:{el:document.querySelector(".news__content .swiper-pagination"),type:"progressbar"},breakpoints:{320:{spaceBetween:20,slidesPerView:"auto"},991:{spaceBetween:32,slidesPerView:3}}}),document.querySelectorAll(".products-stock__slider").forEach(e=>{new Swiper(e,{pagination:{el:document.querySelector(".products-stock__content .swiper-pagination"),type:"progressbar"},slidesPerView:"auto",breakpoints:{320:{spaceBetween:20},991:{spaceBetween:32}}})}),e=document.querySelector(".hero__slider"),new Swiper(e,{pagination:{el:".swiper-pagination",clickable:"true"},navigation:{nextEl:document.querySelector(".hero__slider .swiper-button-next"),prevEl:document.querySelector(".hero__slider .swiper-button-prev")},slidesPerView:1}),e=document.querySelector(".discount__slider"),new Swiper(e,{pagination:{el:document.querySelector(".discount__content .swiper-pagination"),type:"progressbar"},breakpoints:{320:{spaceBetween:30,slidesPerView:"auto"},991:{spaceBetween:32,slidesPerView:2}}}),e=document.querySelector(".reviews__slider"),new Swiper(e,{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:document.querySelector(".reviews__content .swiper-button-next"),prevEl:document.querySelector(".reviews__content .swiper-button-prev")},pagination:{el:document.querySelector(".reviews__content .swiper-pagination"),type:"progressbar"},breakpoints:{320:{spaceBetween:20},991:{spaceBetween:32}}}),e=document.querySelector(".brands-slider__slider"),new Swiper(e,{slidesPerView:"auto",spaceBetween:32,navigation:{nextEl:document.querySelector(".brands-slider__content .swiper-button-next"),prevEl:document.querySelector(".brands-slider__content .swiper-button-prev")},pagination:{el:document.querySelector(".brands-slider__content .swiper-pagination"),type:"progressbar"},breakpoints:{320:{spaceBetween:20},991:{spaceBetween:32}}}),e=document.querySelector(".new-slider__slider"),new Swiper(e,{slidesPerView:1,navigation:{nextEl:document.querySelector(".new-slider__slider .swiper-button-next"),prevEl:document.querySelector(".new-slider__slider .swiper-button-prev")}}),document.querySelectorAll(".product-card__slider").forEach(e=>{new Swiper(e,{slidesPerView:1,pagination:{el:".swiper-pagination",clickable:!0}})}),e=document.querySelector(".banners__slider"),new Swiper(e,{slidesPerView:"auto"}),document.querySelectorAll(".type-slider__slider").forEach(e=>{new Swiper(e,{slidesPerView:"auto",spaceBetween:10})});{var e=document.querySelectorAll(".brand-products__list");const n=document.querySelectorAll(".product-card"),l=document.querySelector(".btn-grid"),a=document.querySelector(".btn-list");console.log(l),console.log(a),e.forEach(t=>{l&&(l.addEventListener("click",e=>{n.forEach(e=>{e&&(e.className="product-card",t.classList.remove("brand-products__list--list")),l.classList.add("active"),a.classList.remove("active")})}),a.addEventListener("click",e=>{n.forEach(e=>{e&&(e.className="product-card product-card--list",t.classList.add("brand-products__list--list")),l.classList.remove("active"),a.classList.add("active")})}))})}e=new Swiper("#slider-nav",{slidesPerView:"auto",spaceBetween:12,direction:"vertical",watchSlidesVisibility:!0,watchSlidesProgress:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{320:{direction:"horizontal"},991:{direction:"vertical"}}}),new Swiper("#slider-main",{spaceBetween:10,loopedSlides:4,thumbs:{swiper:e},navigation:{nextEl:document.querySelector("#slider-main .swiper-button-next"),prevEl:document.querySelector("#slider-main .swiper-button-prev")}}),window.addEventListener("scroll",function(){var e=document.querySelector("header"),t=document.querySelectorAll(".dropdown-catalog");100<=this.scrollY?(e.classList.add("scroll-header"),t.forEach(e=>{e.classList.add("scroll-catalog")})):(e.classList.remove("scroll-header"),t.forEach(e=>{e.classList.remove("scroll-catalog")}))}),e=document.querySelector("header"),t=document.querySelectorAll(".dropdown-catalog"),100<=window.pageYOffset&&(e.classList.add("scroll-header"),t.forEach(e=>{e.classList.add("scroll-catalog")}));var r,o;e=".accordion-control",r=".accordion-content",o=".accordion",document.querySelectorAll(e).forEach(e=>{e&&e.addEventListener("click",e=>{var e=e.target.closest(o),t=e.querySelector(r);e.classList.toggle("active"),e.classList.contains("active")?t.style.maxHeight=t.scrollHeight+"px":t.style.maxHeight=null})}),document.querySelectorAll(".counter").forEach(e=>{e&&e.addEventListener("click",e=>{e.target.classList.contains("counter__btn--increase")&&e.target.previousElementSibling.value++,e.target.classList.contains("counter__btn--decrease")&&1<e.target.nextElementSibling.value&&e.target.nextElementSibling.value--})});{const i=document.querySelector(".dropdown-catalog");document.querySelector("body").addEventListener("click",e=>{e.target.closest(".catalog-btn")?i.classList.toggle("active"):e.target.closest(".dropdown-catalog")||i.classList.remove("active")})}{var t=document.querySelector(".header__toggle");const d=document.querySelector(".mobile-menu"),u=(e=document.querySelector(".mobile-menu__close"),document.querySelector("body")),p=document.querySelector(".overlay");t.addEventListener("click",e=>{d.classList.toggle("active"),p.classList.toggle("active"),u.classList.toggle("no-scroll")}),p.addEventListener("click",e=>{d.classList.remove("active"),p.classList.remove("active"),u.classList.remove("no-scroll")}),e.addEventListener("click",e=>{d.classList.remove("active"),p.classList.remove("active"),u.classList.remove("no-scroll")})}{const m=document.querySelectorAll(".mobile-dropdown"),w=document.querySelectorAll(".mobile-subdropdown");document.querySelectorAll(".mobile-menu__link").forEach(t=>{t&&t.addEventListener("click",e=>{const r=t.dataset.target;m.forEach(t=>{r===t.dataset.drop&&(t.classList.add("active"),t.querySelector(".mobile-dropdown__back").addEventListener("click",e=>{t.classList.remove("active")}))}),document.querySelectorAll(".mobile-dropdown__link").forEach(t=>{t.addEventListener("click",e=>{const r=t.dataset.target;w.forEach(t=>{r===t.dataset.drop&&(t.classList.add("active"),t.querySelector(".mobile-subdropdown__back").addEventListener("click",e=>{t.classList.remove("active")}))})})}),m.querySelector(".mobile-dropdown__back").addEventListener("click",e=>{m.classList.remove("active")})})})}function c(e,t,r){e=document.querySelectorAll(e);const o=document.querySelector(t);t=document.querySelectorAll(r);const c=document.querySelector("body");o&&(e.forEach(e=>{e.addEventListener("click",e=>{e.target&&e.preventDefault(),o.classList.add("active"),c.classList.add("no-scroll")})}),t.forEach(e=>{e.addEventListener("click",e=>{o.classList.remove("active"),c.classList.remove("no-scroll")})}),o.addEventListener("click",e=>{e.target===o&&(o.classList.remove("active"),c.classList.remove("no-scroll"))}))}function s(e,t,r,s){const n=document.querySelectorAll(e),l=document.querySelectorAll(t),a=document.querySelectorAll(r);n.forEach(e=>{function o(){a.forEach(e=>{e.classList.remove("active")}),l.forEach(e=>{e.classList.remove(s)})}function c(e=0){a[e].classList.add("active"),l[e].classList.add(s)}e&&(o(),c(),n.forEach(e=>{e&&e.addEventListener("click",e=>{const r=e.target;r.classList.contains(t.replace(/\./,""))&&l.forEach((e,t)=>{r!=e&&r.parentNode!=e||(o(),c(t))})})}))})}function s(e,t,r,s){const n=document.querySelectorAll(e),l=document.querySelectorAll(t),a=document.querySelectorAll(r);n.forEach(e=>{function o(){a.forEach(e=>{e.classList.remove("active")}),l.forEach(e=>{e.classList.remove(s)})}function c(e=0){a[e].classList.add("active"),l[e].classList.add(s)}e&&(o(),c(),n.forEach(e=>{e&&e.addEventListener("click",e=>{const r=e.target;r.classList.contains(t.replace(/\./,""))&&l.forEach((e,t)=>{r!=e&&r.parentNode!=e||(o(),c(t))})})}))})}c(".btn-reg-mail",".popup--registration-email",".popup__close"),c(".btn-reg-phone",".popup--registration-phone",".popup__close"),c(".btn-reset-pas",".popup--restore-pas",".popup__close"),document.querySelectorAll(".form-group").forEach(e=>{e&&e.addEventListener("click",e=>{e.target.closest(".show-pas")&&document.querySelectorAll(".input-password").forEach(e=>{"password"==e.getAttribute("type")?e.setAttribute("type","text"):e.setAttribute("type","password")})})}),s(".products-grid__content",".products-grid__btn",".products-grid__panel","active"),s(".help__tabs",".help-tabs__btn",".help-tabs__content","active"),s(".brand",".sort__btn",".brand-products__panel","active"),s(".order__left",".order-box__inner",".order-box__content","active"),s(".product-tabs",".product-tabs__top-btn",".product-tabs__content","active"),s(".mobile-grid",".mobile-grid-btn",".mobile-grid-panel","active"),s(".dropdown-catalog",".dropdown-catalog__btn",".dropdown-catalog__content","active")});